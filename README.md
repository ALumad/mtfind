# mtfind
Программа принимает на вход файл и паттерн.   
Чтение файла происходит построчно через стандартные библиотечные методы. Если использовать posix или winapi можно добиться некоторого прироста в скорости чтения файлы.
Каждая строка отправляется в текстовый процессор который складывает строки в очереди и отдельным потоком разбирает очередь и парсит строки. Количество текстовых процессоров равно = количеству ядер системы.    
Все текстовые процессоры разбирают общую очередь. Очередь обернута в shared_ptr который хоть сам по себе и не потокобезопасен, но сама очередь обмазана мютексами, по этому с конкурентным доступом проблем нет.  
Алгоритм поиска это модификация простого классического алгоритма Кнутта-Морриса-Прата. В лучшем случае будет O(n+m), а в случае если паттерн видна "?????" то сложность O(n*m).
Через регулярки было бы быстрее т.к. всегда O(m+n), но не интересно.    
